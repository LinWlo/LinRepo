# 1. 标识符、变量和对象

### 1.1 标识符

-   什么是标识符？
    -   对变量名、函数名、类名、方法名的统称
-   命令规范
    -   只能包含字母、数字、下划线（用中文在任何位置也不会报错，但一般不用中文）
    -   不能以数字开头
    -   严格区分大小写
    -   不能与系统关键字相同
        -   在python中导入：`import keyword`
        -   输入：keyword.kwlist 即可看到系统关键字
-   尽量不与系统的内置函数、模块名相同
-   尽量使用有意义的英文单词，多个单词之间使用下划线连接

### 1.2 变量的声明

-   如：`student_name = "zhangsan"`
    -   后续可以直接重新赋值` student_name = 1000`
-   如：a,b = 10,20 （表示声明两个变量a,b，值分别为10，20）
    -   a,b = b,a （表示将a,b两个变量的值进行了交换，a = 20 b = 10）
-   如：c = 10,20,30 （会将三个值打包为元组（tuple）类型赋给c变量））
-   当我们赋值时，如`a = "hello"` ，python解释器做了两件事：
    -   在内存中创建了一个`"hello"`的字符串对象；
    -   在内存中创建了一个名为`a`的变量，并把它指向`"hello"` 。
-   声明变量时会在内存里面开辟一块空间来保存变量名（栈内存），也会开辟一块空间来保存值（对象）（堆内存），并将变量指向该对象（值）。
    -   在python中，类型属于对象，变量是没有类型的。
    -   如`a=[1,2,3]` `a="Runoob"` ，`[1,2,3]` 是 List 类型，`"Runoob"` 是 String 类型，而变量 a 是没有类型，它仅仅是一个对象的引用(一个指针)，可以是 List 类型对象，也可以指向 String 类型对象。
-   赋值的时候是把值在内存空间中的地址给到这个变量。也就是说变量里面保存的不是这个值，而是这个值在内存空间中的地址。
-   假如已有变量 a = 20，再声明变量 b = 20，此时系统会去内存里面找到已有的20这个值，并把20这个值的内存地址给到b，而不会去重新开辟一块内存地址。也就是说此时 a和b是指向同一个内存地址的(即id(a) = id(b))。此时 a is b 为True a == b 为True

### 1.3 对象

-   **Python中的一切都是对象。变量是对对象的引用！**（对象是一个抽象，可想象成现实中的一个实际物体）
-   对象的本质是：对象是分配的一块内存，有足够的空间去表示它们所代表的值。或者说，一块内存空间，拥有特定的值，支持指定类型的相关操作。
-   对象的特点：`标识(identity)`、`类型(type)`、`值(value)`
    -   `标识(identity)`：用于唯一标识对象，通常对应对象在计算机内存中的地址。使用内置函数`id(obj)`返回对象唯一标识。
    -   `类型(type)`：对象中含有标准的头部信息，类型标识符。标识对象类型，表示对象存储的数据的类型。类型可以限制对象的取值范围和可执行的操作。使用内置函数`type(obj)`返回对象所属类型。
        -   每个对象都有两个标准的头部信息：
            1.  类型标识符，去标识对象的数据类型；
            2.  引用计数器，记录当前对象的引用的数目。（回收机制：变量的引用计数器为0，自动清理。较小整数型对象有缓存机制。）
    -   `值(value)` ：表示对象存储的数据的信息。使用内置函数`print(obj)` 可以直接打印值。
-   `is`和`==`&#x20;
    -   区别
        -   `is` ：判断两个变量是否指向同一个对象，比较两个引用是否代表了内存中同一个地址，是否指向同一块内存空间。通过`id(obj)` 返回值判断。
        -   `==` ：比较对象的本身内容【类型(type)】和【值(value)】是否一致。默认会调用`__eq__` 方法。
    -   关系
        -   当`id(obj)`相同是，`is`为True，两者的`type` 和`value` 肯定相同，`==` 也为True。
        -   但是当两者的`type` 和`value` 相同时，`==` 为True，两者的`id(obj)` 不一定相同。
            ```python
            >>> a = [1,2]
            >>> b = [1,2]
            >>> a == b
            True
            >>> a is b
            False
            >>>
            >>> c = 257
            >>> d = 257
            >>> c == d
            True
            >>> c is d
            False

            ```
-   **小整数 small\_ints 和 短字符串 缓存池**
    -   CPython(c语言实现的python解释器)出于性能优化的考虑，把频繁使用的整数对象用一个`small_ints`的对象池缓存起来。`small_ints` 缓存的整数值被设定为\[-5,256]这个区间。
    -   如果使用CPython解释器，在任何引用这些整数的地方，都不需要重新创建int对象，而是直接引用缓存池中的对象。
    -   **如果整数不在该范围内，那么即便两个整数的值相同，它们也是不同的对象。**
        ```python
        # 小整数
        >>> a = 256
        >>> b = 256
        >>> a is b
        True
        # 短字符串
        >>> a = 'good'
        >>> b = 'good'
        >>> a is b
        True

        >>> c = 'very good'
        >>> d = 'very good'
        >>> c is d
        False


        ```

# 2. 字符串

## 2.1 字符串的声明

-   声明：包含在引号之间的内容，不可变数据类型。
    -   使用单引号或双引号来创建字符串，使用三引号创建多行字符串。
    -   字符串要么使用两个单引号，要么两个双引号，不能一单一双！
    -   Python不支持单字符类型(C或者类似语言的Char类型)，单字符在Python中也是作为一个字符串使用。
-   如果一个字符串内部要有引号，那么最好和外部包裹的引号类型不同。
    -   外层使用单引号，那么里层使用双引号
    -   外层使用双引号，那么里层使用单引号
    -   如果要使用一样的符号呢，那字符串里的引号前记得加转义符号：`\`
        ```python
        >>> msg = 'what\'s you name'
        >>> msg
        "what's you name"
        ```

## 2.2 字符串元素的访问
- 通过索引访问到字符串中的指定的元素。
-   `字符串[索引]`
-   索引从0开始，从左往右，第一个位置的索引为0，以此类推。
-   索引可以为负数，从右往左，最后一个位置为-1，以此类推。

## 2.3 字符串格式化
-   占位符
    -   语法：`%[-w.p]type %(value)`
        -   `[-w.p]`：可选的，- 表示左对齐(默认为右对齐)，w 表示宽度，.p 表示精度（只能用于浮点型数据）。
        -   `type`：表示数据类型，d 表示int型，f 表示浮点型，s 表示字符串。
        -   `value`：待输出的内容（变量名），多个value用逗号隔开。
            ```python
            >>> age = 20
            >>> "年龄为：%s" %(age)
            '年龄为：20'
            ```
-   format
    -   语法：`'{:w.pf}'.format(value)`
        -   `:w.pf`：可选的，w 表示宽度。.pf 针对浮点型表示精度
        -   默认靠左对齐，冒号后加>，靠右对齐；加^，居中对齐。
        -   `value`：待输出的内容（变量名），多个value用逗号隔开。
            ```python
            >>> name = '小二'
            >>> '姓名为：{}'.format(name)
            '姓名为：小二'
            ```
-   f-string（python3.8以上版本才支持）
    -   语法：`f'{value:w.pf}'`
        -   value：待输出的内容（变量名）
        -   :w\.pf：可选的，w 表示宽度，.pf 针对浮点型表示精度。
            ```python
            >>> height = '80'
            >>> f'体重为{80}kg'
            '体重为80kg'
            ```
## 2.4 字符串常用内置方法
-   语法：`字符串.方法`
-   `upper()`：将字符串所有的字母转换为大写，返回新字符串。
-   `lower()`：将字符串所有的字母转换为小写，返回新字符串。
-   `isupper()`：字符串如果都为大写字母，返回True，否则返回False。
-   `islower()`：字符串如果都为小写字母，返回True，否则返回False。
-   `title()`：将字符串所有单词的首字母转换为大写，其余字母小写，返回新字符串。
-   `count(sub,start,end)`：统计在指定位置之间，子字符串的数量。
    -   start和end都用索引来表示，end取不到。省略不写的话表示从整个字符串寻找。
    -   无该子字符串的话，返回值为0。
-   `startswith(sub)`：判断字符串是否以指定内容开头，是则返回True,不是则返回False。
-   `endswith(sub)`：判断字符串是否以指定内容结尾，是则返回True,不是则返回False。
-   **`strip()`：去除字符串首尾的空字符（包含空格、\t、\n），返回新字符串。**
    -   \t：横向字表符，相当于按了一次tab键。
    -   \n：换行，相当于按了一次回车键。
-   **`replace(old,new,count)`：将字符串中指定的内容替换为新内容，返回新字符串。**
    -   count：可选的，表示替换的次数（从左往右计数）。省略时表示替换所有的。
    -   如：atm机上名字的显示王五 *，* 中间的字就可以用`**`替换。
-   `split(sub)`：使用字符串中指定的内容进行分隔，返回一个列表。
    -   sub：可选的，指定用于分隔的内容。省略表示使用空字符（包括空格、\t、\n）分隔。
-   `join(iter)`：将可迭代对象（字符串，列表，元组，字典）的元素，拼接成字符串。
-   `center(width,s)`：使用指定内容将字符串补齐到指定长度并居中。
    -   width：长度
    -   s：指定的内容
-   `isdecimal()`：字符串如果为纯数字，返回True，否则返回False。
-   `isalpha()`：字符串如果为纯字母，返回True，否则返回False。
-   `isalnum()`：字符串由字母或者数字组成，返回True，否则返回False。

### 3.  数值型
-   整型：int，整数。不可变数据类型（即不可更改，不像列表等可以修改元素的值）。
-   浮点型：float，小数。不可变数据类型。
    -   之所以称为浮点数，是因为按照科学计数法表示时，一个浮点数的小数点位置是可变的。
    -   如：`1.58*10^9` 和 `15.8*10^8` 是相等的。
    -   浮点数可以用数学写法，如`3.14` `-2.5` 等，但是对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，`1.58*10^9` 等价与`1.58e9` 或`15.8e8` ,0.000005写成`5e-5` 。
-   复数：complex，复数由实数部分和虚数部分构成，可以用`a + bj`，或者 `complex(a,b)` 表示，复数的实部a和虚部b都是浮点型。关于复数，不做科学计算或其它特殊需要，通常很难遇到。
    ```python
    >>> a = 10 + 0.2j
    >>> a
    (10+0.2j)
    >>> type(a)
    <class 'complex'>
    >>>
    >>> b = complex(10,0.2)
    >>> b
    (10+0.2j)
    >>> type(b)
    <class 'complex'>
    ```
-   布尔型：bool，True或False。不可变数据类型。
-   整型和浮点型可以做算数运算；浮点型精度比整型高，整型和浮点型做算数运算，结果一定是浮点型。